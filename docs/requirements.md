# 课程分享点名系统需求文档

## 1. 项目背景

为了促进学员之间的交流学习和面试能力提升，设计一个课程分享点名系统。每天早上讲师会点名三位学员进行昨天的课程内容分享，这三位学员随后需要邀请其他5位同学进行面试提问环节。

### 1.1 核心规则
- 每天点名3人做课程内容分享
- 近期3天内不可重复点名同一人
- 被点名的3人各自需邀请5位面试官进行提问
- 确保全员都有被点名的机会，不重不漏

## 2. 业务目标

### 2.1 主要目标
1. 通过点名机制促进全员成长
2. 培养积极期待被点名的氛围
3. 鼓励主动预约点名机制
4. 记录面试问题的不足点，便于复盘统计
5. 实现奖励排行榜
6. 设置面试评分机制
7. 增加offer发放的仪式感

## 3. 功能模块设计

### 3.1 点名历史记录页面

#### 功能描述
- 展示历史点名记录
- 统计个人被点名次数

#### 页面元素
- 时间筛选器
- 历史记录列表
  - 点名时间
  - 学员姓名
  - 被点名次数统计
- 导出功能

### 3.2 名单管理页面

#### 功能描述
- 管理全部学员名单
- 支持批量导入名单

#### 页面元素
- 导入名单功能（支持Excel导入）
- 名单列表展示
  - 学员基本信息
  - 编辑/删除功能
- 手动添加学员功能

### 3.3 点名页面

#### 功能描述
- 展示点名进度
- 执行点名操作
- 记录面试过程
- 展示奖金排行

#### 页面元素及交互逻辑

1. 点名进度区（顶部）
   - 进度显示
     - 格式：已点名人数/总人数（例如：15/30）
     - 配合进度条可视化展示
     - 实时更新，每完成一次点名自动刷新

2. 点名操作区（中间主区域）
   a. 随机点名按钮
      - 状态变化：
        - 默认状态：显示"开始点名"，蓝色背景
        - 点击后：显示抽奖动画，按钮暂时禁用
        - 结果展示：动画结束后显示3名被选中学员
      - 交互流程：
        - 点击按钮触发随机选择
        - 3秒抽奖动画展示
        - 结果逐个显示，每个间隔0.5秒
        - 选中结果可以重新随机（重置按钮）
      - 随机选择算法：
        - 优先选择求职次数较少的学员
        - 确保每个人的求职次数尽量均衡
        - 近3天内不重复选择同一人

   b. 被点名学员信息展示
      - 布局：三个并排的学员卡片
      - 每个卡片包含：
        - 学员头像（求职者头像使用红色边框标识）
        - 姓名
        - 历史求职次数
        - 历史面试次数
        - "邀请面试官"按钮
      - 交互逻辑：
        - 初始状态：邀请按钮可点击
        - 点击邀请按钮：
          1. 弹出面试官选择面板
          2. 可选择5位面试官
          3. 已选满5位后，其他面试官选项置灰
          4. 确认选择后关闭面板

   c. 面试官区域（每个学员卡片下方）
      - 布局：5个面试官卡片
      - 每个面试官卡片包含：
        - 面试官头像（面试官头像使用蓝色边框标识）和姓名
        - 提问内容输入框
        - "会"/"不会"评分按钮
        - 奖励金额显示
      - 交互逻辑：
        - 面试官选择算法：
          1. 优先选择面试次数较少的学员
          2. 确保每个人的面试次数尽量均衡
        - 提问记录：
          1. 面试官输入问题内容
          2. 输入完成后自动保存
          3. 可随时修改问题内容
        - 评分操作：
          1. 点击"会"按钮：
             - 按钮变为绿色
             - 显示"+300元"（给求职者）
             - 更新奖金排行榜
          2. 点击"不会"按钮：
             - 按钮变为红色
             - 显示"+300元"（给面试官）
             - 更新奖金排行榜
          3. 评分后按钮锁定，不可更改

3. 奖金排行区（右侧）
   - 总奖金排行榜：
     - 显示前10名
     - 包含：
       - 学员姓名
       - 总奖金（求职奖金 + 面试奖金）
       - 求职次数统计
       - 面试次数统计
       - 实时更新，有动画效果
   - 更新逻辑：
     - 每次评分后实时更新
     - 排名变化有动画过渡
     - 新增奖金闪烁提示

4. 自动保存和状态管理
   - 所有操作实时保存到后端
   - 页面刷新后保持当前状态
   - 断网时本地缓存，恢复网络后自动同步
   - 每个操作都有loading和结果反馈
   - 错误操作有友好提示，可撤销

### 3.4 面试题复盘页面

#### 功能描述
- 记录所有面试题目
- 统计答题情况

#### 页面元素
- 面试题列表
  - 求职者信息
  - 面试时间
  - 面试题内容
  - 答题结果
- 数据筛选功能
- 导出功能

## 4. 用户故事

### 故事1：日常点名流程
作为讲师，我想要：
- 在早上打开系统进行点名
- 系统随机选择3名未被点到的学员
- 确保这3名学员在近3天内未被点到过
- 查看这些学员的历史点名记录

验收标准：
1. 能成功随机选择3名符合条件的学员
2. 显示选中学员的基本信息和历史记录
3. 可以重新随机选择如果对当前结果不满意

### 故事2：面试官邀请流程
作为被点名的学员，我想要：
- 选择5位同学作为我的面试官
- 记录每位面试官的提问内容
- 标记我对每个问题的回答情况

验收标准：
1. 能够选择5位不重复的面试官
2. 可以记录每个面试官的提问内容
3. 能够标记每个问题的回答情况（会/不会）
4. 系统自动计算并发放相应奖励

## 5. 测试用例

### 5.1 点名功能测试

#### 测试用例1：随机点名
前置条件：
- 系统中已有30名学员信息
- 今天未进行过点名

测试步骤：
1. 进入点名页面
2. 点击随机点名按钮
3. 查看被选中的3名学员信息

预期结果：
- 成功选出3名不同的学员
- 这3名学员在近3天内未被点到过
- 显示选中学员的基本信息

#### 测试用例2：面试官邀请
前置条件：
- 已完成今日点名
- 被点名学员已登录系统

测试步骤：
1. 被点名学员进入面试官邀请页面
2. 选择5位面试官
3. 记录面试过程
4. 标记答题情况

预期结果：
- 成功选择5位不重复的面试官
- 能够记录每个面试官的提问内容
- 正确记录答题情况
- 系统正确计算并发放奖励

### 5.2 奖励机制测试

#### 测试用例3：奖励发放
前置条件：
- 面试环节已完成
- 已记录所有答题情况

测试步骤：
1. 系统计算求职者奖励（1000元/人）
2. 系统计算面试官奖励（会-300元/题）
3. 更新奖金排行榜

预期结果：
- 正确计算并发放求职者奖励
- 正确计算并发放面试官奖励
- 奖金排行榜数据更新

## 6. 非功能需求

### 6.1 性能需求
- 页面加载时间不超过2秒
- 点名随机算法响应时间不超过1秒
- 支持30人以上的名单管理

### 6.2 安全需求
- 讲师账号权限管理
- 学员数据保护
- 奖励发放记录留痕

### 6.3 可用性需求
- 界面简洁直观
- 操作流程清晰
- 提供必要的操作提示
- 支持数据导出功能

## 7. UI设计要求

### 7.1 整体布局
- 采用响应式布局设计
- 顶部导航栏固定显示
- 左侧菜单可折叠
- 主内容区域自适应

### 7.2 点名页面布局
- 上方显示点名进度和操作区
  - 大型随机点名按钮，带抽奖动画效果
  - 显示已点名/总人数进度条
- 中间区域分为左右两栏
  - 左侧显示被点名学员信息卡片
    - 每个卡片包含头像、姓名、被点名次数
    - 卡片右侧设置邀请面试官按钮
  - 右侧为面试官区域
    - 显示已选择的面试官信息
    - 每个面试官卡片包含提问内容输入框
    - 答题情况按钮（会/不会）带奖励金额显示
- 底部显示奖金排行榜
  - 分为求职者和面试官两个排行榜
  - 实时更新奖励金额变化

### 7.3 交互设计
- 点名按钮
  - 悬停放大效果
  - 点击触发抽奖动画
  - 结果展示渐显动效
- 学员信息卡片
  - 阴影浮动效果
  - 邀请按钮状态变化
- 面试官选择
  - 弹出选择面板
  - 已选择面试官高亮显示
  - 超出限制提示
- 答题记录
  - 会/不会按钮带动画反馈
  - 奖励金额变化动画
- 排行榜更新
  - 数据变化平滑过渡
  - 排名变化动画效果

### 7.4 视觉优化
- 配色方案
  - 主色调：#1890ff（科技蓝）
  - 辅助色：#52c41a（成功绿）、#f5222d（警示红）
  - 中性色：#f0f2f5（背景灰）
- 字体设计
  - 主标题：20px
  - 副标题：16px
  - 正文：14px
  - 使用系统默认字体栈
- 动效设计
  - 页面切换过渡动画
  - 数据更新渐变效果
  - 操作反馈动画
- 响应式适配
  - 断点设置：xs(480px) sm(576px) md(768px) lg(992px) xl(1200px)
  - 布局自适应调整
  - 内容展示优化
